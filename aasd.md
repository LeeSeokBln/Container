## Pod, Daemonset, Ingress 등 K8s의 주요 object
**Pod**
- 컨테이너화된 애플리케이션의 기본 실행 단위이다.
- 하나 이상의 컨테이너와 그 컨테이너의 저장소 및 네트워크 설정을 포함한다.

**Service**
- 네트워크를 통해 하나 이상의 Pod에 접근할 수 있게 하는 추상화 된 방법이다.
- 각 서비스에는 고유한 IP 주소와 포트가 할당된다.

**Volume**
- 데이터를 저장하기 위한 스토리지 영역이다.
- Pod 내의 컨테이너들 사이에서 데이터를 공유하거나 데이터의 지속성을 유지하는 데 사용된다.

**Namespace**
- 클러스터 내의 리소스를 분리하여 그룹화한다.
- 다중 사용자 환경에서 클러스터 리소스를 분할하거나 격리하는 데 유용하다.

**DaemonSet**
- 클러스터의 모든 노드에 특정 Pod를 실행하게 한다.
- 로깅, 모니터링 같은 노드 레벨의 서비스에 주로 사용된다.

**Deployment**
- 상태를 유지하는 Pod의 세트를 선언적으로 업데이트하고 확장한다.
- 애플리케이션의 업데이트와 롤백을 관리한다.

**StatefulSet**
- 상태를 가지는 애플리케이션의 배포 및 스케일링을 관리한다.
- 각 Pod에 고유한 ID를 부여하여 데이터의 순서와 지속성을 보장한다.

**ConfigMap와 Secret**
- 환경 설정 데이터나 기밀 정보를 Pod에 주입하는 데 사용된다.
- 코드와 설정을 분리하여 관리한다.

**Ingress**
- 클러스터 외부에서 내부 서비스로의 HTTP와 HTTPS 트래픽을 관리한다.
- 라우팅, SSL/TLS 종료 및 도메인 기반 가상 호스팅 기능을 제공한다.

**Job와 CronJob**

- 일회성 작업 또는 예약된 작업을 실행한다.

**HPA**

- CPU 사용량 또는 다른 선택적인 메트릭에 따라 Pod의 수를 자동으로 조정한다.

**PV와 PVC**

- 지속적인 스토리지 리소스를 제공하고 사용하는 메커니즘이다.

## EKS cluster가 인터넷 엑세스가 불가능한 환경에서 운영될 수 있는 방법

**VPC 설정:** EKS 클러스터는 VPC 내에서 작동한다. 인터넷 액세스를 제한하려면 NAT 게이트웨이와 인터넷 게이트웨이를 사용하지 않도록 VPC를 구성해야 한다.

**Private Endpoint 사용:** EKS API 서버를 위한 VPC 엔드포인트를 생성하여 클러스터를 VPC의 사설 IP 주소에서만 액세스할 수 있게 한다.

**ECR 액세스:** 이미지를 Amazon ECR에서 pull해야 하는 경우 VPC 엔드포인트를 사용하여 ECR에 사설로 접근한다.

**종속성 및 패키지:** 클러스터가 필요로 하는 모든 종속성과 패키지를 사전에 다운로드하여 인터넷이 연결되지 않은 환경에서 사용할 수 있게 저장한다.

**커스텀 AMI:** 필요한 모든 소프트웨어와 설정을 포함하는 사용자 정의 AMI를 작성한다. 이 AMI는 노드 그룹을 생성할 때 사용된다.

**CNI 플러그인:** Amazon VPC CNI 플러그인을 사용하지 않을 경우, 인터넷 액세스가 필요하지 않은 CNI 솔루션을 선택하여 사용한다.

**서비스 업데이트:** AWS 서비스나 기타 외부 서비스에 액세스해야 할 때, VPC 엔드포인트 또는 Direct Connect 같은 방법을 통해 사설 네트워크를 통한 액세스를 확보한다.

## AWS LB Controller와 External DNS

### **```AWS LB Controller```**
**ALB 생성 및 관리:** AWS LB Controller는 Kubernetes Ingress 리소스와 연동하여 AWS ALB를 자동으로 생성하고 구성한다.

**ALB와 관련된 리소스 관리:** Target Groups, Security Groups 및 기타 필요한 리소스들을 자동으로 생성하고 관리한다.

**고급 트래픽 라우팅:** Kubernetes의 Ingress 리소스에 정의된 라우팅 규칙을 사용하여 ALB에서의 요청 라우팅을 관리한다.

### **```External DNS```**
**DNS 기록 자동 관리:** Kubernetes 클러스터에서 정의된 서비스나 Ingress 리소스의 IP 주소를 기반으로 DNS 기록을 생성하거나 업데이트한다.

**여러 DNS 제공자 지원:** AWS Route 53, Google Cloud DNS 및 기타 DNS 제공자와 함께 작동하여 DNS 기록을 관리한다.

**엔드포인트 동기화:** 클러스터의 변경 사항을 지속적으로 모니터링하고 해당 변경 사항을 DNS 제공자에 자동으로 반영한다.

## Karpenter
**AWS에서 개발한 쿠버네티스 클러스터의 노드 자동 확장 솔루션이다**

### **```Karpenter가 cluster-autoscaler보다 더 좋은 점```**

**응답 속도:** Karpenter는 쿠버네티스 API 서버에서 직접적으로 이벤트를 수신하므로, 빠르게 응답하고 클러스터의 확장을 처리할 수 있다.

**유연성:** Karpenter는 워크로드의 실제 요구 사항을 기반으로 최적의 노드 크기와 타입을 선택한다.

**확장성:** Karpenter는 다양한 클라우드 제공자와 연동될 수 있도록 설계되었으며, AWS, Azure 및 Google Cloud와 같은 주요 클라우드 제공자를 포함한 다양한 환경에서 실행될 수 있다.

**간단한 구성:** Karpenter는 사용자가 간단한 명세를 제공하면 최적의 노드 그룹을 자동으로 만들어준다. 이로 인해 사용자는 특정 인스턴스 타입이나 크기를 고려하지 않아도 된다.

## IRSA
**EKS에서 Kubernetes 서비스 어카운트를 AWS IAM 역할에 연결하는 기능이다.**

### **```특징 및 장점```**

**파드 수준의 권한 부여:** 각 파드에 AWS 서비스들에 대한 다양한 권한을 부여할 수 있다. 이렇게 하면 파드가 필요한 AWS 리소스에만 액세스할 수 있게 제한된다.

**액세스 토큰 사용:** Kubernetes 서비스 어카운트는 OIDC 토큰을 사용하여 IAM 역할에 액세스한다. EKS 클러스터는 OIDC 공급자로 작동하여 이 인증 과정을 지원한다.

**보안 강화:** 이전 방식에 비해 파드가 필요 이상의 권한을 가지지 않도록 세분화된 권한을 적용할 수 있어 클러스터의 보안을 향상시킨다.